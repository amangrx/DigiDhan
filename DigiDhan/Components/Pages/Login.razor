@page "/"
@inject NavigationManager NavManager

<!-- -->
<h3>Login</h3>
<div name="right-container">
    <div>
        <label for="username">Username:</label>
        <input type="text" placeholder="Enter your username" @bind="username" required />

    </div>
    <div>
        <label for="password">Password:</label>
        <input type="password" placeholder="Enter your password" @bind="password" required />

    </div>
    <div>
        <label for="Currency">Currency:</label>
        <select id="currencyType" @bind="selectedCurrency" required>
            @foreach (var currency in Enum.GetNames(typeof(Currency)))
            {
                <option value="@currency">@currency</option>
            }
        </select>
    </div>

    <button @onclick="CheckLogin">Log In</button>
</div>


@code {
    public String username;
    public String password;
    public Currency selectedCurrency = Currency.NPR;

    public void CheckLogin()
    {
        Console.WriteLine("ahohoho");
        if (username.Equals("amngrx") && password.Equals("aman123"))
        {
            // UserLogin.isLoggedIn = true; 

            //Initializing the object of database connection to call for the 
            //function that checks for existing database and creates new database when there is no existing databas
            DatabaseConnection databaseConnection = new DatabaseConnection();
            databaseConnection.CheckForExistingDatabase();

            //Navigating to home page. 
            NavManager.NavigateTo("/home");
            StateHasChanged();
        }
        else
        {
            Console.WriteLine("Bad Credentials.");
        }
    }
}